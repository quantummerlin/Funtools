<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Modality Balance Reading</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700;900&family=Cinzel:wght@400;500;600;700;800;900&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="quantum-merlin-styles.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Cormorant Garamond', serif;
            background: #0a0a0f;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(6, 182, 212, 0.15) 0%, transparent 50%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.8;
            color: #e0e0e0;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px;
        }
        .header h1 {
            font-family: 'Cinzel Decorative', serif;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #fbbf24 0%, #06b6d4 50%, #ec4899 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .header p {
            font-size: 1.15em;
            color: #06b6d4;
            opacity: 0.9;
            font-style: italic;
        }
        .result-card {
            background: rgba(20, 20, 30, 0.8);
            border: 2px solid rgba(6, 182, 212, 0.3);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            margin-bottom: 30px;
        }
        .balance-chart {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 40px 0;
        }
        .modality-box {
            background: rgba(10, 10, 20, 0.6);
            border-radius: 15px;
            padding: 30px 20px;
            text-align: center;
            border: 2px solid;
        }
        .modality-box.cardinal { border-color: rgba(251, 191, 36, 0.5); }
        .modality-box.fixed { border-color: rgba(6, 182, 212, 0.5); }
        .modality-box.mutable { border-color: rgba(236, 72, 153, 0.5); }
        .modality-box.dominant {
            transform: scale(1.05);
            box-shadow: 0 10px 40px rgba(139, 92, 246, 0.3);
        }
        .modality-name {
            font-family: 'Cinzel', serif;
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 15px;
        }
        .cardinal .modality-name { color: #fbbf24; }
        .fixed .modality-name { color: #06b6d4; }
        .mutable .modality-name { color: #ec4899; }
        .modality-percentage {
            font-size: 3em;
            font-weight: 700;
            font-family: 'Cinzel', serif;
            margin-bottom: 10px;
        }
        .modality-count {
            font-size: 1.1em;
            color: #9ca3af;
            margin-bottom: 15px;
        }
        .planet-list {
            text-align: left;
            font-size: 0.95em;
            color: #d1d5db;
            line-height: 1.6;
        }
        .section {
            margin: 40px 0;
            padding: 30px;
            background: rgba(10, 10, 20, 0.4);
            border-radius: 15px;
            border-left: 4px solid;
        }
        .section.cardinal { border-color: #fbbf24; }
        .section.fixed { border-color: #06b6d4; }
        .section.mutable { border-color: #ec4899; }
        .section.synthesis { border-color: #8b5cf6; }
        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 1.8em;
            margin-bottom: 20px;
            font-weight: 600;
        }
        .cardinal .section-title { color: #fbbf24; }
        .fixed .section-title { color: #06b6d4; }
        .mutable .section-title { color: #ec4899; }
        .synthesis .section-title { color: #8b5cf6; }
        .section-content {
            color: #d1d5db;
            line-height: 1.9;
            font-size: 1.1em;
        }
        .section-content p {
            margin-bottom: 15px;
        }
        .highlight {
            color: #fbbf24;
            font-weight: 600;
        }
        .buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        button, a.button {
            padding: 15px 30px;
            border-radius: 10px;
            font-family: 'Cinzel', serif;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            font-size: 1em;
        }
        .primary-btn {
            background: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%);
            border: none;
            color: white;
        }
        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
        }
        .secondary-btn {
            background: rgba(6, 182, 212, 0.1);
            border: 2px solid rgba(6, 182, 212, 0.3);
            color: #06b6d4;
        }
        .secondary-btn:hover {
            background: rgba(6, 182, 212, 0.2);
            border-color: #06b6d4;
        }
        @media (max-width: 768px) {
            .balance-chart {
                grid-template-columns: 1fr;
            }
            .modality-box.dominant {
                transform: scale(1);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="headerTitle">Your Modality Balance Reading</h1>
            <p id="headerSubtitle">How you navigate life's cycles of change</p>
        </div>

        <div class="result-card">
            <div class="balance-chart" id="balanceChart"></div>
            <div id="readingContent"></div>
        </div>

        <div class="buttons">
            <button class="primary-btn" onclick="window.location.href='modality-reading.html'">Calculate Another Reading</button>
            <a href="tools_index.html" class="button secondary-btn">← Back to All Tools</a>
        </div>
    </div>

    <script>
        const MODALITY_READINGS = {
            Cardinal: {
                essence: "The Initiator",
                description: "Cardinal energy is the spark that begins each season - the moment when potential becomes action. You are the cosmic starter, the one who sees the blank canvas and picks up the brush.",
                strengths: [
                    "You excel at starting new projects and ventures",
                    "Natural leadership ability flows through you",
                    "You create opportunities where others see obstacles",
                    "Quick decision-making is your superpower",
                    "You inspire others to take action"
                ],
                challenges: [
                    "Following through can feel less exciting than starting",
                    "You may scatter energy across too many beginnings",
                    "Patience with slow progress tests your spirit",
                    "Delegation doesn't always come naturally",
                    "You might rush ahead before laying solid foundations"
                ],
                approach: "You move through life as a pioneer, always ready to break new ground. When change is needed, you don't wait - you create it. Your gift is seeing possibilities and having the courage to pursue them immediately."
            },
            Fixed: {
                essence: "The Sustainer",
                description: "Fixed energy is the deep root that holds steady through storms, the mountain that shapes the landscape. You are the cosmic preserver, the one who builds things meant to last.",
                strengths: [
                    "Unshakeable determination powers your journey",
                    "You build foundations that withstand time",
                    "Loyalty and commitment are your trademarks",
                    "Focus and concentration come naturally",
                    "You complete what others abandon"
                ],
                challenges: [
                    "Change can feel threatening rather than exciting",
                    "Stubbornness may disguise itself as conviction",
                    "Letting go of the past requires conscious effort",
                    "Flexibility doesn't always come easily",
                    "You might resist necessary transformations"
                ],
                approach: "You move through life as a builder, creating structures of meaning and value. Where others see the need for constant change, you recognize the power of sustained effort. Your gift is persistence that transforms vision into reality."
            },
            Mutable: {
                essence: "The Adapter",
                description: "Mutable energy is the wind that carries seeds to new soil, the river that finds every path around obstacles. You are the cosmic translator, the one who bridges worlds and transforms perspectives.",
                strengths: [
                    "Adaptability is your natural state of being",
                    "You see multiple perspectives simultaneously",
                    "Change energizes rather than depletes you",
                    "Communication and connection flow easily",
                    "You thrive in transitional spaces"
                ],
                challenges: [
                    "Committing to a single path can feel limiting",
                    "Too much flexibility may scatter your focus",
                    "Consistency requires conscious cultivation",
                    "Decision-making can feel overwhelming",
                    "You might adapt so well you lose your center"
                ],
                approach: "You move through life as a shape-shifter, finding wisdom in flexibility. Where others struggle with uncertainty, you dance. Your gift is the ability to transform and help others transform, seeing possibilities in every transition."
            }
        };

        function generateReading() {
            const data = JSON.parse(sessionStorage.getItem('quantumMerlinReading'));
            
            if (!data || data.toolType !== 'modality') {
                window.location.href = 'modality-reading.html';
                return;
            }

            document.getElementById('headerTitle').textContent = data.headerTitle;
            document.getElementById('headerSubtitle').textContent = data.headerSubtitle;

            // Create balance chart
            const chartHTML = ['Cardinal', 'Fixed', 'Mutable'].map(modality => {
                const isDominant = data.dominant === modality;
                const lowerModality = modality.toLowerCase();
                
                return `
                    <div class="modality-box ${lowerModality} ${isDominant ? 'dominant' : ''}">
                        <div class="modality-name">${modality}</div>
                        <div class="modality-percentage">${data.percentages[modality]}%</div>
                        <div class="modality-count">${data.counts[modality]} of 11 placements</div>
                        <div class="planet-list">
                            ${data.planets[modality].join('<br>')}
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('balanceChart').innerHTML = chartHTML;

            // Generate reading content
            let contentHTML = '';

            // Dominant modality section
            if (data.dominant !== 'Balanced') {
                const reading = MODALITY_READINGS[data.dominant];
                const percentage = data.percentages[data.dominant];
                const lowerDominant = data.dominant.toLowerCase();
                
                contentHTML += `
                    <div class="section ${lowerDominant}">
                        <div class="section-title">${reading.essence}: Your Dominant Approach</div>
                        <div class="section-content">
                            <p>Dear ${data.name}, with <span class="highlight">${percentage}%</span> of your chart in ${data.dominant} signs, your cosmic blueprint is powerfully aligned with this energy.</p>
                            <p>${reading.description}</p>
                            <p>${reading.approach}</p>
                        </div>
                    </div>

                    <div class="section ${lowerDominant}">
                        <div class="section-title">Your Cosmic Strengths</div>
                        <div class="section-content">
                            ${reading.strengths.map(s => `<p>• ${s}</p>`).join('')}
                        </div>
                    </div>

                    <div class="section ${lowerDominant}">
                        <div class="section-title">Growth Opportunities</div>
                        <div class="section-content">
                            ${reading.challenges.map(c => `<p>• ${c}</p>`).join('')}
                        </div>
                    </div>
                `;
            }

            // Synthesis section
            const cardinalPct = data.percentages.Cardinal;
            const fixedPct = data.percentages.Fixed;
            const mutablePct = data.percentages.Mutable;

            let synthesis = '';
            
            if (Math.max(cardinalPct, fixedPct, mutablePct) >= 55) {
                // Heavily dominant
                synthesis = `Your chart shows a powerful concentration in ${data.dominant} energy. This gives you tremendous strength in your natural approach, but also invites you to consciously develop the other modalities. Consider where you can practice ${data.dominant === 'Cardinal' ? 'patience and flexibility' : data.dominant === 'Fixed' ? 'initiating and adapting' : 'commitment and leadership'}.`;
            } else if (Math.max(cardinalPct, fixedPct, mutablePct) <= 40) {
                // Balanced
                synthesis = `Your chart shows a remarkably balanced distribution of modalities. This rare cosmic gift means you can shift between initiating, sustaining, and adapting with relative ease. You have access to all three approaches - use this versatility wisely.`;
            } else {
                // Moderate dominance
                synthesis = `Your modality balance shows ${data.dominant} as your leading energy (${data.percentages[data.dominant]}%), with meaningful support from the other qualities. This gives you a primary approach while maintaining access to diverse strategies. You can lead with ${data.dominant.toLowerCase()} energy while drawing on other modes when needed.`;
            }

            // Add specific insights based on the pattern
            if (cardinalPct > 0 && fixedPct > 0 && mutablePct > 0) {
                synthesis += ` The fact that you have placements in all three modalities means you understand each phase of creation: beginning (Cardinal), sustaining (Fixed), and completing/transforming (Mutable). This makes you exceptionally well-equipped to see projects and relationships through their full cycles.`;
            }

            contentHTML += `
                <div class="section synthesis">
                    <div class="section-title">Your Unique Cosmic Pattern</div>
                    <div class="section-content">
                        <p>${synthesis}</p>
                        <p>Remember, ${data.name}, no modality is better than another - they are three essential phases of every cycle. Your specific balance is your cosmic signature, revealing how you uniquely participate in the eternal dance of creation, preservation, and transformation.</p>
                    </div>
                </div>
            `;

            document.getElementById('readingContent').innerHTML = contentHTML;
        }

        generateReading();
    </script>
</body>
</html>
