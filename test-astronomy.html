<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="20260111132525">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Astronomy Engine</title>
    <script src="https://cdn.jsdelivr.net/npm/astronomy-engine@2.1.19/astronomy.browser.min.js?v=20260111121803"></script>
</head>
<body>
    <h1>Astronomy Engine Test</h1>
    <div id="output"></div>
    
    <script>
        // Version: 20260111132525 - Auto-generated cache buster
        // Version: 20260111121858 - Auto-generated cache buster
        // Version: 20260111121803 - Auto-generated cache buster
        const output = document.getElementById('output');
        try {
            // Test if Astronomy is available
            if (typeof Astronomy === 'undefined') {
                output.innerHTML = '<p style="color:red;">ERROR: Astronomy library not loaded!</p>';
            } else {
                output.innerHTML = '<p style="color:green;">SUCCESS: Astronomy library loaded!</p>';
                
                // Test basic functionality
                const now = new Date();
                const time = Astronomy.MakeTime(now);
                output.innerHTML += `<p>Current time: ${now}</p>`;
                output.innerHTML += `<p>Astronomical time created: ${time.toString()}</p>`;
                
                // Test Moon position
                try {
                    const moonEqu = Astronomy.Equator('Moon', time, null, true, false);
                    output.innerHTML += `<p style="color:green;">Moon calculation successful!</p>`;
                    output.innerHTML += `<p>Moon RA: ${moonEqu.ra}, Dec: ${moonEqu.dec}</p>`;
                    
                    const ecliptic = Astronomy.Ecliptic(moonEqu.vec);
                    output.innerHTML += `<p>Moon ecliptic longitude: ${ecliptic.elon}Â°</p>`;
                    
                    const signIndex = Math.floor(((ecliptic.elon % 360) + 360) % 360 / 30);
                    const signs = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 
                                  'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
                    output.innerHTML += `<p><strong>Current Moon Sign: ${signs[signIndex]}</strong></p>`;
                } catch (e) {
                    output.innerHTML += `<p style="color:red;">Moon calculation error: ${e.message}</p>`;
                }
            }
        } catch (error) {
            output.innerHTML += `<p style="color:red;">ERROR: ${error.message}</p>`;
        }
    </script>
</body>
</html>
